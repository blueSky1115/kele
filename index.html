<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>科勒抽奖</title>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/index.css"/>
</head>
<body>
<div id="main">
	
	<div class="menban"></div>
	<div class="wrap">
		<img src="img/zhuozi_02.png" class="alter">
		<img src="img/zp.png" class="box">
		<img src="img/kaishichouiang.png" class="middle">

	</div>

	<img src="img/youjihui.png" class="regret" id="two" />
	<img src="img/meijihui.png" class="winning"/>
</div>
<script>
//--------------------------第一种方法--------------------------------------------------------
	//	var now=0;
//	function getRandom(n){
//		return Math.floor(Math.random()*n+1)
//	}
//	$(".middle").on("click",function(){
//// ------不要--var a = (Math.floor(Math.random()*720+360));
//
//		now=getRandom(8)*45+720 + now;
//// ------不要--alert(now)
//		$('.box').css({
//// ------不要--width: '100px',
//			transform: 'rotate('+now+'deg)'
//		});
//
//	});
//
//	$('.box').on('transitionend.move webkitTransitionend.move', function(){
//		alert(123);
//	})
//--------------------------第二种方法--------------------------------------------------------
	$(function(){
		var now=0;
		var an = 0;
		var mengban = $('.menban');
		var winning = $('.winning');
		var two = $("#two");
		var iChange = 2;
		function getRandom(n){
			return Math.floor(Math.random()*n+1)
		}
		$(".middle").on("click",function(){
	//            var a = (Math.floor(Math.random()*720+360));

			now=getRandom(10)*45+720 + now;//8

			$('.box').css({
	//                  width: '100px',
				transform: 'rotate('+now+'deg)',
				'-webkit-transform': 'rotate('+now+'deg)'

			});
			an = now%360;
		});
		$('.box').on('transitionend.move webkitTransitionend.move', function(){
			if(an>0&&an<50){
				alert("恭喜你中奖");
			}
			if(an>50&&an<100){
				alert("未中奖");
			}
			if(an>100&&an<150){
				alert("恭喜你中奖");
			}
			if(an>150&&an<250){
				alert("未中奖");
			}
			if(an>250&&an<360){
				alert("恭喜你中奖");
			}
		});

		// 传 2 或者 1 进去
		function showChange(num){
			if(num==2){
				mengban.show();
				two.show();
			}
			else if(num==1){
				mengban.show();
				winning.show();
			}
		}
		//showChange(1);  //-->这里是调用多少次机会的  传 1 或者 2 进去
		
		//两次点击的按钮
		two.on('click', function(){
			mengban.hide();
			two.hide();
		})
		// 一次点击的按钮
		winning.on('click', function(){
			mengban.hide();
			winning.hide();
		})	
	});
</script>
</body>
</html>
